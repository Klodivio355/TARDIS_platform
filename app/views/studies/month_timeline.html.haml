%table
  %thead
    %tr
      %th Study Name
      %th January
      %th February
      %th March
      %th April
      %th May
      %th June
      %th July
      %th August
      %th September
      %th October
      %th November
      %th December


  %tbody
    - @studies.each do |study|
      %tr
        %td= study.study_name
        %td= StudyTask.where(study_id: study.study_id, month: 1).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 2).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 3).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 4).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 5).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 6).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 7).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 8).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 9).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 10).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 11).distinct(true).pluck(:task_name).first
        %td= StudyTask.where(study_id: study.study_id, month: 12).distinct(true).pluck(:task_name).first

%br